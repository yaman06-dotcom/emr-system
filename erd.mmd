erdiagram
    User {
        int id PK
        string username
        string role
    }

    Patient {
        int id PK
        string first_name
        string last_name
        int created_by FK
    }

    MedicalVisit {
        int id PK
        int patient_id FK
        int doctor_id FK
    }

    Prescription {
        int id PK
        int visit_id FK
        int patient_id FK
    }

    HealthRiskPrediction {
        int id PK
        int patient_id FK
        int predicted_by FK
    }

    User ||--o{ Patient : "creates"
    User ||--o{ MedicalVisit : "conducts"
    User ||--o{ Prescription : "prescribes"
    User ||--o{ HealthRiskPrediction : "predicts"

    Patient ||--|{ MedicalVisit : "has"
    Patient ||--|{ Prescription : "has"
    Patient ||--|{ HealthRiskPrediction : "has"

    MedicalVisit ||--|{ Prescription : "includes"
